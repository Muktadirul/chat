!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var t={},r={},n={},a={}.hasOwnProperty,u=/^\.\.?(\/|$)/,i=function(e,t){for(var r,n=[],a=(u.test(t)?e+"/"+t:t).split("/"),i=0,s=a.length;i<s;i++)r=a[i],".."===r?n.pop():"."!==r&&""!==r&&n.push(r);return n.join("/")},s=function(e){return e.split("/").slice(0,-1).join("/")},c=function(t){return function(r){var n=i(s(t),r);return e.require(n,t)}},o=function(e,t){var n=null;n=m&&m.createHot(e);var a={id:e,exports:{},hot:n};return r[e]=a,t(a.exports,c(e),a),a.exports},l=function(e){return n[e]?l(n[e]):e},f=function(e,t){return l(i(s(e),t))},d=function(e,n){null==n&&(n="/");var u=l(e);if(a.call(r,u))return r[u].exports;if(a.call(t,u))return o(u,t[u]);throw new Error("Cannot find module '"+e+"' from '"+n+"'")};d.alias=function(e,t){n[t]=e};var h=/\.[^.\/]+$/,p=/\/index(\.[^\/]+)?$/,_=function(e){if(h.test(e)){var t=e.replace(h,"");a.call(n,t)&&n[t].replace(h,"")!==t+"/index"||(n[t]=e)}if(p.test(e)){var r=e.replace(p,"");a.call(n,r)||(n[r]=e)}};d.register=d.define=function(e,n){if("object"==typeof e)for(var u in e)a.call(e,u)&&d.register(u,e[u]);else t[e]=n,delete r[e],_(e)},d.list=function(){var e=[];for(var r in t)a.call(t,r)&&e.push(r);return e};var m=e._hmr&&new e._hmr(f,d,t,r);d._cache=r,d.hmr=m&&m.wrap,d.brunch=!0,e.require=d}}(),function(){var e;window;require.register("actions.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initialFetchChats=e.initialFetchUsers=e.createChat=void 0;var n=t("utils/apiCalls");e.createChat=function(e){return function(t){(0,n.createChat)(e).then(function(e){t({type:"ADD_CHAT",chat_id:e})})}},e.initialFetchUsers=function(){return function(e){(0,n.getAllUsers)().then(function(t){e({type:"RECEIVE_USERS",users:t})})}},e.initialFetchChats=function(){return function(e){(0,n.getUserChats)().then(function(t){e({type:"RECEIVE_CHATS",chats:t})})}}}),require.register("components/User.jsx",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var a=t("react"),u=n(a);e["default"]=u["default"].createClass({displayName:"User",propTypes:{username:u["default"].PropTypes.string.isRequired,onChatCreate:u["default"].PropTypes.func.isRequired},handleClick:function(e){this.props.onChatCreate(e)},render:function(){var e=this.props.username;return u["default"].createElement("div",{className:"user"},u["default"].createElement("div",null,e),u["default"].createElement("button",{onClick:this.handleClick.bind(this,e)},"Start chat"))}})}),require.register("container/App.jsx",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var a=t("react"),u=n(a),i=t("./ChatsList"),s=n(i),c=t("./ChatWindow"),o=n(c),l=t("./UsersList"),f=n(l);e["default"]=function(){return u["default"].createElement("div",{className:"container"},u["default"].createElement(s["default"],null),u["default"].createElement(o["default"],null),u["default"].createElement(f["default"],null))}}),require.register("container/ChatWindow.jsx",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var a=t("react"),u=n(a);e["default"]=function(){return u["default"].createElement("div",{className:"chat-window"})}}),require.register("container/ChatsList.jsx",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var a=t("react"),u=n(a);e["default"]=function(){return u["default"].createElement("div",{className:"chats-list"})}}),require.register("container/UsersList.jsx",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var a=t("react"),u=n(a),i=t("react-redux"),s=t("actions"),c=t("components/User"),o=n(c),l=function(e){var t=e.users,r=e.onChatCreate;return u["default"].createElement("div",{className:"users-list"},t.map(function(e){return u["default"].createElement(o["default"],{username:e.username,onChatCreate:r,key:e.username})}))},f=function(e){return{users:e.users}},d=function(e){return{onChatCreate:function(t){e((0,s.createChat)(t))}}};e["default"]=(0,i.connect)(f,d)(l)}),require.register("initialize.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var a=t("react-dom"),u=n(a),i=t("react"),s=n(i),c=t("redux"),o=t("redux-thunk"),l=n(o),f=t("react-redux");t("whatwg-fetch");var d=t("reducer"),h=n(d),p=t("container/App"),_=n(p),m=t("actions");t("es6-promise").polyfill(),t("whatwg-fetch");var v=(0,c.createStore)(h["default"],(0,c.applyMiddleware)(l["default"]));v.dispatch((0,m.initialFetchUsers)()),v.dispatch((0,m.initialFetchChats)()),document.addEventListener("DOMContentLoaded",function(){var e=document.createElement("div");e.id="app",document.body.appendChild(e),u["default"].render(s["default"].createElement(f.Provider,{store:v},s["default"].createElement(_["default"],null)),e)})}),require.register("reducer.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?n:arguments[0],t=arguments[1];switch(t.type){case"ADD_CHAT":var r=Array.from(e.chats);return r.push(t.chat_id),Object.assign({},e,{chats:r});case"RECEIVE_USERS":return Object.assign({},e,{users:t.users});case"RECEIVE_CHATS":return Object.assign({},e,{chats:t.chats});default:return e}};var n={users:[],chats:[]}}),require.register("utils/apiCalls.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.createChat=function(e){return new Promise(function(t,r){fetch("http://127.0.0.1:8000/chat/create_chat/?username="+e,{method:"GET",credentials:"same-origin"}).then(function(e){e.json().then(function(e){return t(e.chat_id)})})})},e.getAllUsers=function(){return new Promise(function(e,t){fetch("http://127.0.0.1:8000/chat/get_all_users",{method:"GET",credentials:"same-origin"}).then(function(t){t.json().then(function(t){return e(t.users)})})})},e.getUserChats=function(){return new Promise(function(e,t){fetch("http://127.0.0.1:8000/chat/get_user_chats",{method:"GET",credentials:"same-origin"}).then(function(t){t.json().then(function(t){return e(t.chats)})})})}}),require.alias("process/browser.js","process"),e=require("process"),require.register("___globals___",function(e,t,r){})}(),require("___globals___");